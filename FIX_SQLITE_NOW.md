# üö® –®–í–ò–î–ö–ï –í–ò–ü–†–ê–í–õ–ï–ù–ù–Ø: SQLite ‚Üí PostgreSQL

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

–í –ª–æ–≥–∞—Ö –≤–∏–¥–Ω–æ:
```
‚ö†Ô∏è WARNING: Using SQLite database!
‚ö†Ô∏è SQLite data will be LOST on Railway after each deploy!
```

–¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ `DATABASE_URL` –Ω–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–∏–π –¥–æ –≤–∞—à–æ–≥–æ —Å–µ—Ä–≤—ñ—Å—É.

## ‚úÖ –†–Ü–®–ï–ù–ù–Ø (5 —Ö–≤–∏–ª–∏–Ω)

### –ö—Ä–æ–∫ 1: –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ —î PostgreSQL —Å–µ—Ä–≤—ñ—Å

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ **Railway Dashboard** ‚Üí –í–∞—à –ø—Ä–æ–µ–∫—Ç
2. –ü–æ–¥–∏–≤—ñ—Ç—å—Å—è, —á–∏ —î –æ–∫—Ä–µ–º–∏–π —Å–µ—Ä–≤—ñ—Å –∑ –Ω–∞–∑–≤–æ—é —Ç–∏–ø—É:
   - `Postgres`
   - `PostgreSQL`
   - `Database`

**–Ø–∫—â–æ –ù–ï–ú–ê–Ñ PostgreSQL —Å–µ—Ä–≤—ñ—Å—É:**
- –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"+ New"** ‚Üí **"Database"** ‚Üí **"Add PostgreSQL"**
- Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–∏—Ö

**–Ø–∫—â–æ PostgreSQL —Å–µ—Ä–≤—ñ—Å –£–ñ–ï –Ñ:**
- –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ **–ö—Ä–æ–∫—É 2**

---

### –ö—Ä–æ–∫ 2: –ü—ñ–¥–∫–ª—é—á–∏—Ç–∏ DATABASE_URL –¥–æ —Å–µ—Ä–≤—ñ—Å—É "brain"

1. –í Railway Dashboard –≤–∏–±–µ—Ä—ñ—Ç—å —Å–µ—Ä–≤—ñ—Å **"brain"** (–Ω–µ PostgreSQL!)
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"Variables"** (–∞–±–æ **"Settings"** ‚Üí **"Variables"**)
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ —î –∑–º—ñ–Ω–Ω–∞ `DATABASE_URL`:
   - **–Ø–∫—â–æ –ù–ï–ú–ê–Ñ** ‚Üí –ø–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ –ö—Ä–æ–∫—É 3
   - **–Ø–∫—â–æ –Ñ, –∞–ª–µ –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ `sqlite://`** ‚Üí –≤–∏–¥–∞–ª—ñ—Ç—å —ó—ó —ñ –ø–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ –ö—Ä–æ–∫—É 3

---

### –ö—Ä–æ–∫ 3: –î–æ–¥–∞—Ç–∏ DATABASE_URL —á–µ—Ä–µ–∑ Reference (–ù–ê–ô–ü–†–û–°–¢–Ü–®–ï)

1. –í —Å–µ—Ä–≤—ñ—Å—ñ **"brain"** ‚Üí **"Variables"**
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"+ New Variable"** (–∞–±–æ **"Add Variable"**)
3. –í –ø–æ–ª—ñ **"Name"** –≤–≤–µ–¥—ñ—Ç—å: `DATABASE_URL`
4. –í –ø–æ–ª—ñ **"Value"** –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ —ñ–∫–æ–Ω–∫—É **üîó (Reference)** –∞–±–æ **"Select from service"**
5. –í–∏–±–µ—Ä—ñ—Ç—å:
   - **Service:** `Postgres` (–∞–±–æ –Ω–∞–∑–≤–∞ –≤–∞—à–æ–≥–æ PostgreSQL —Å–µ—Ä–≤—ñ—Å—É)
   - **Variable:** `DATABASE_URL`
6. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Add"** –∞–±–æ **"Save"**

**Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:**
- –ü—ñ–¥–∫–ª—é—á–∏—Ç—å `DATABASE_URL` –≤—ñ–¥ PostgreSQL –¥–æ —Å–µ—Ä–≤—ñ—Å—É "brain"
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤—ñ—Å "brain"

---

### –ö—Ä–æ–∫ 4: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ (—á–µ—Ä–µ–∑ 1-2 —Ö–≤–∏–ª–∏–Ω–∏)

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä—ñ:
   ```
   https://brain-production-1712.up.railway.app/api/status
   ```

2. –ú–∞—î –±—É—Ç–∏:
   ```json
   {
     "database": {
       "type": "postgresql",  // ‚Üê –ù–ï "sqlite"!
       "connected": true,
       "url_set": true
     }
   }
   ```

3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ Railway ‚Üí **Deploy Logs**:
   - ‚úÖ –ú–∞—î –±—É—Ç–∏: `‚úî Using PostgreSQL database (persistent)`
   - ‚ùå –ù–ï –º–∞—î –±—É—Ç–∏: `‚ö†Ô∏è WARNING: SQLite will lose data`

---

## üîç –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç (—è–∫—â–æ Reference –Ω–µ –ø—Ä–∞—Ü—é—î)

### –í–∞—Ä—ñ–∞–Ω—Ç –ë: –°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ DATABASE_URL –≤—Ä—É—á–Ω—É

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ **PostgreSQL —Å–µ—Ä–≤—ñ—Å** ‚Üí **"Variables"**
2. –ó–Ω–∞–π–¥—ñ—Ç—å –∑–º—ñ–Ω–Ω—É `DATABASE_URL`
3. –°–∫–æ–ø—ñ—é–π—Ç–µ —ó—ó –∑–Ω–∞—á–µ–Ω–Ω—è (–≤–∏–≥–ª—è–¥–∞—î —è–∫: `postgresql://postgres:xxx@xxx:5432/railway`)
4. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ —Å–µ—Ä–≤—ñ—Å—É **"brain"** ‚Üí **"Variables"**
5. –î–æ–¥–∞–π—Ç–µ –Ω–æ–≤—É –∑–º—ñ–Ω–Ω—É:
   - **Name:** `DATABASE_URL`
   - **Value:** (–≤—Å—Ç–∞–≤—Ç–µ —Å–∫–æ–ø—ñ–π–æ–≤–∞–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è)
6. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Add"**

---

## ‚ö†Ô∏è –í–∞–∂–ª–∏–≤–æ

- –ó–º—ñ–Ω–Ω–∞ `DATABASE_URL` –º–∞—î –±—É—Ç–∏ –≤ **—Å–µ—Ä–≤—ñ—Å—ñ "brain"**, –∞ –Ω–µ —Ç—ñ–ª—å–∫–∏ –≤ PostgreSQL
- –ü—ñ—Å–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤—ñ—Å
- –ó–∞—á–µ–∫–∞–π—Ç–µ 1-2 —Ö–≤–∏–ª–∏–Ω–∏ –ø—ñ—Å–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–æ—ó
- –ü—ñ—Å–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ

---

## üÜò –Ø–∫—â–æ –≤—Å–µ –æ–¥–Ω–æ –Ω–µ –ø—Ä–∞—Ü—é—î

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏: Railway ‚Üí "brain" ‚Üí **Deploy Logs**
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å—Ç–∞—Ç—É—Å: `/api/status`
3. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ:
   - PostgreSQL —Å–µ—Ä–≤—ñ—Å —ñ—Å–Ω—É—î
   - `DATABASE_URL` –¥–æ–¥–∞–Ω–æ –≤ —Å–µ—Ä–≤—ñ—Å "brain"
   - –ó–Ω–∞—á–µ–Ω–Ω—è `DATABASE_URL` –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ `postgresql://`, –∞ –Ω–µ `sqlite://`

---

## üì∏ –í—ñ–∑—É–∞–ª—å–Ω–∞ –ø—ñ–¥–∫–∞–∑–∫–∞

```
Railway Dashboard
‚îú‚îÄ‚îÄ perpetual-vibrancy (project)
    ‚îú‚îÄ‚îÄ brain (service) ‚Üê –¢–£–¢ –º–∞—î –±—É—Ç–∏ DATABASE_URL!
    ‚îÇ   ‚îî‚îÄ‚îÄ Variables
    ‚îÇ       ‚îî‚îÄ‚îÄ DATABASE_URL ‚Üí üîó Reference ‚Üí Postgres ‚Üí DATABASE_URL
    ‚îÇ
    ‚îî‚îÄ‚îÄ Postgres (service) ‚Üê –¢–£–¢ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è DATABASE_URL
        ‚îî‚îÄ‚îÄ Variables
            ‚îî‚îÄ‚îÄ DATABASE_URL = postgresql://...
```




